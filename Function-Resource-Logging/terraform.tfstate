{
  "version": 4,
  "terraform_version": "1.12.2",
  "serial": 6,
  "lineage": "0c785d43-d436-1287-1fea-56e237ab6cb7",
  "outputs": {
    "function_app_name": {
      "value": "java-test-function-777",
      "type": "string"
    },
    "storage_account_name": {
      "value": "javastorage777",
      "type": "string"
    }
  },
  "resources": [
    {
      "mode": "data",
      "type": "azurerm_linux_function_app",
      "name": "func",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "app_settings": {},
            "auth_settings": [],
            "auth_settings_v2": [
              {
                "active_directory_v2": [],
                "apple_v2": [],
                "auth_enabled": false,
                "azure_static_web_app_v2": [],
                "config_file_path": "",
                "custom_oidc_v2": [],
                "default_provider": "",
                "excluded_paths": [],
                "facebook_v2": [],
                "forward_proxy_convention": "",
                "forward_proxy_custom_host_header_name": "",
                "forward_proxy_custom_scheme_header_name": "",
                "github_v2": [],
                "google_v2": [],
                "http_route_api_prefix": "",
                "login": [],
                "microsoft_v2": [],
                "require_authentication": false,
                "require_https": false,
                "runtime_version": "",
                "twitter_v2": [],
                "unauthenticated_action": ""
              }
            ],
            "availability": "Normal",
            "backup": [],
            "builtin_logging_enabled": false,
            "client_certificate_enabled": false,
            "client_certificate_exclusion_paths": "",
            "client_certificate_mode": "Required",
            "connection_string": [],
            "content_share_force_disabled": false,
            "custom_domain_verification_id": "543C8767E6BE6AAAF681E4D044AB58D8D4E677558D933B2146258229636649C9",
            "daily_memory_time_quota": 0,
            "default_hostname": "java-test-function-777.azurewebsites.net",
            "enabled": true,
            "ftp_publish_basic_authentication_enabled": true,
            "functions_extension_version": "",
            "hosting_environment_id": "",
            "https_only": true,
            "id": "/subscriptions/5c3579a2-4d66-4bee-a612-e66b89fbf8e9/resourceGroups/java-test-function-resource-group777/providers/Microsoft.Web/sites/java-test-function-777",
            "identity": [
              {
                "identity_ids": [],
                "principal_id": "657ff186-ad3e-4761-9d01-9cea540cb15f",
                "tenant_id": "60ac8d97-5286-44f8-bf90-d40b7753e003",
                "type": "SystemAssigned"
              }
            ],
            "kind": "functionapp,linux",
            "location": "westeurope",
            "name": "java-test-function-777",
            "outbound_ip_address_list": [
              "51.138.6.213",
              "51.138.120.107",
              "51.138.120.154",
              "51.138.120.165",
              "51.138.120.169",
              "20.50.167.244",
              "20.50.2.52"
            ],
            "outbound_ip_addresses": "51.138.6.213,51.138.120.107,51.138.120.154,51.138.120.165,51.138.120.169,20.50.167.244,20.50.2.52",
            "possible_outbound_ip_address_list": [
              "51.138.6.213",
              "51.138.120.107",
              "51.138.120.154",
              "51.138.120.165",
              "51.138.120.169",
              "20.50.167.244",
              "20.73.195.219",
              "51.105.199.198",
              "51.124.48.0",
              "51.124.48.149",
              "51.124.50.96",
              "51.124.51.185",
              "51.124.53.3",
              "51.124.53.133",
              "51.138.32.150",
              "51.138.36.150",
              "51.138.36.181",
              "51.138.36.247",
              "20.71.3.221",
              "20.73.34.97",
              "20.73.34.112",
              "20.73.34.156",
              "20.73.34.159",
              "20.73.34.163",
              "20.50.2.52"
            ],
            "possible_outbound_ip_addresses": "51.138.6.213,51.138.120.107,51.138.120.154,51.138.120.165,51.138.120.169,20.50.167.244,20.73.195.219,51.105.199.198,51.124.48.0,51.124.48.149,51.124.50.96,51.124.51.185,51.124.53.3,51.124.53.133,51.138.32.150,51.138.36.150,51.138.36.181,51.138.36.247,20.71.3.221,20.73.34.97,20.73.34.112,20.73.34.156,20.73.34.159,20.73.34.163,20.50.2.52",
            "public_network_access_enabled": true,
            "resource_group_name": "java-test-function-resource-group777",
            "service_plan_id": "/subscriptions/5c3579a2-4d66-4bee-a612-e66b89fbf8e9/resourceGroups/java-test-function-resource-group777/providers/Microsoft.Web/serverfarms/java-test-function-service-plan-777",
            "site_config": [
              {
                "always_on": false,
                "api_definition_url": "",
                "api_management_api_id": "",
                "app_command_line": "",
                "app_scale_limit": 200,
                "app_service_logs": [],
                "application_insights_connection_string": "",
                "application_insights_key": "",
                "application_stack": [
                  {
                    "docker": [],
                    "dotnet_version": "",
                    "java_version": "17",
                    "node_version": "",
                    "powershell_core_version": "",
                    "python_version": "",
                    "use_custom_runtime": false,
                    "use_dotnet_isolated_runtime": false
                  }
                ],
                "container_registry_managed_identity_client_id": "",
                "container_registry_use_managed_identity": false,
                "cors": [],
                "default_documents": [
                  "Default.htm",
                  "Default.html",
                  "Default.asp",
                  "index.htm",
                  "index.html",
                  "iisstart.htm",
                  "default.aspx",
                  "index.php"
                ],
                "detailed_error_logging_enabled": false,
                "elastic_instance_minimum": 0,
                "ftps_state": "FtpsOnly",
                "health_check_eviction_time_in_min": 0,
                "health_check_path": "",
                "http2_enabled": false,
                "ip_restriction": [],
                "ip_restriction_default_action": "",
                "linux_fx_version": "java|17",
                "load_balancing_mode": "LeastRequests",
                "managed_pipeline_mode": "Integrated",
                "minimum_tls_version": "1.2",
                "pre_warmed_instance_count": 0,
                "remote_debugging_enabled": false,
                "remote_debugging_version": "",
                "runtime_scale_monitoring_enabled": false,
                "scm_ip_restriction": [],
                "scm_ip_restriction_default_action": "",
                "scm_minimum_tls_version": "1.2",
                "scm_type": "None",
                "scm_use_main_ip_restriction": false,
                "use_32_bit_worker": false,
                "vnet_route_all_enabled": false,
                "websockets_enabled": false,
                "worker_count": 1
              }
            ],
            "site_credential": [
              {
                "name": "$java-test-function-777",
                "password": "ccwbj0JrRQ97cTaF46RlPwqFFcch2TghuPq04hggQmbni94ew30zb9DEmtbB"
              }
            ],
            "sticky_settings": [],
            "storage_account_access_key": "fQ/RHULoEsXQewUEZ9OSRGliJo5Ns4jOMT3h2OvzW5V5OyAdOLM5N5B9ONhwpYGeyt/MWTd95V8n+AStgazqew==",
            "storage_account_name": "javastorage777",
            "storage_key_vault_secret_id": "",
            "storage_uses_managed_identity": false,
            "tags": {},
            "timeouts": null,
            "usage": "Normal",
            "virtual_network_subnet_id": "",
            "webdeploy_publish_basic_authentication_enabled": true
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "custom_domain_verification_id"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "site_credential"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "storage_account_access_key"
              }
            ]
          ],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "data",
      "type": "azurerm_subscription",
      "name": "current",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "display_name": "Azure subscription 1",
            "id": "/subscriptions/5c3579a2-4d66-4bee-a612-e66b89fbf8e9",
            "location_placement_id": "Public_2014-09-01",
            "quota_id": "PayAsYouGo_2014-09-01",
            "spending_limit": "Off",
            "state": "Enabled",
            "subscription_id": "5c3579a2-4d66-4bee-a612-e66b89fbf8e9",
            "tags": {},
            "tenant_id": "60ac8d97-5286-44f8-bf90-d40b7753e003",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_resource_group",
      "name": "rg",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "/subscriptions/5c3579a2-4d66-4bee-a612-e66b89fbf8e9/resourceGroups/java-test-function-resource-group777",
            "location": "westeurope",
            "managed_by": "",
            "name": "java-test-function-resource-group777",
            "tags": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo1NDAwMDAwMDAwMDAwLCJkZWxldGUiOjU0MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMCwidXBkYXRlIjo1NDAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_resource_group_template_deployment",
      "name": "arm_deploy",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "debug_level": "",
            "deployment_mode": "Incremental",
            "id": "/subscriptions/5c3579a2-4d66-4bee-a612-e66b89fbf8e9/resourceGroups/java-test-function-resource-group777/providers/Microsoft.Resources/deployments/jtf777-armdeploy",
            "name": "jtf777-armdeploy",
            "output_content": "{}",
            "parameters_content": "{\"functionAppName\":{\"value\":\"java-test-function-777\"},\"location\":{\"value\":\"westeurope\"},\"servicePlanName\":{\"value\":\"java-test-function-service-plan-777\"},\"storageAccountName\":{\"value\":\"javastorage777\"}}",
            "resource_group_name": "java-test-function-resource-group777",
            "tags": null,
            "template_content": "{\"$schema\":\"https://schema.management.azure.com/schemas/2019-04-01/deploymentTemplate.json#\",\"contentVersion\":\"1.0.0.0\",\"parameters\":{\"functionAppName\":{\"metadata\":{\"description\":\"The name of the Function App.\"},\"type\":\"String\"},\"location\":{\"defaultValue\":\"[resourceGroup().location]\",\"metadata\":{\"description\":\"The location for all resources.\"},\"type\":\"String\"},\"servicePlanName\":{\"metadata\":{\"description\":\"The name of the App Service plan.\"},\"type\":\"String\"},\"storageAccountName\":{\"metadata\":{\"description\":\"The name of the storage account (must be unique).\"},\"type\":\"String\"}},\"resources\":[{\"apiVersion\":\"2022-09-01\",\"kind\":\"StorageV2\",\"location\":\"[parameters('location')]\",\"name\":\"[parameters('storageAccountName')]\",\"properties\":{\"supportsHttpsTrafficOnly\":true},\"sku\":{\"name\":\"Standard_LRS\"},\"type\":\"Microsoft.Storage/storageAccounts\"},{\"apiVersion\":\"2022-03-01\",\"kind\":\"linux\",\"location\":\"[parameters('location')]\",\"name\":\"[parameters('servicePlanName')]\",\"properties\":{\"perSiteScaling\":false,\"reserved\":true},\"sku\":{\"name\":\"Y1\",\"tier\":\"Dynamic\"},\"type\":\"Microsoft.Web/serverfarms\"},{\"apiVersion\":\"2022-03-01\",\"dependsOn\":[\"[resourceId('Microsoft.Web/serverfarms', parameters('servicePlanName'))]\",\"[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccountName'))]\"],\"identity\":{\"type\":\"SystemAssigned\"},\"kind\":\"functionapp,linux\",\"location\":\"[parameters('location')]\",\"name\":\"[parameters('functionAppName')]\",\"properties\":{\"httpsOnly\":true,\"keyVaultReferenceIdentity\":\"SystemAssigned\",\"reserved\":true,\"serverFarmId\":\"[resourceId('Microsoft.Web/serverfarms', parameters('servicePlanName'))]\",\"siteConfig\":{\"appSettings\":[{\"name\":\"FUNCTIONS_WORKER_RUNTIME\",\"value\":\"java\"},{\"name\":\"AzureWebJobsStorage\",\"value\":\"[concat('DefaultEndpointsProtocol=https;AccountName=', parameters('storageAccountName'), ';AccountKey=', listKeys(resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccountName')), '2022-09-01').keys[0].value, ';EndpointSuffix=', environment().suffixes.storage)]\"}],\"linuxFxVersion\":\"[variables('linuxFxVersion')]\"}},\"type\":\"Microsoft.Web/sites\"},{\"apiVersion\":\"2022-09-01\",\"dependsOn\":[\"[resourceId('Microsoft.Storage/storageAccounts', parameters('storageAccountName'))]\"],\"name\":\"[concat(parameters('storageAccountName'), '/default')]\",\"properties\":{\"containerDeleteRetentionPolicy\":{\"days\":3,\"enabled\":true},\"cors\":{\"corsRules\":[]},\"deleteRetentionPolicy\":{\"allowPermanentDelete\":true,\"days\":2,\"enabled\":true}},\"type\":\"Microsoft.Storage/storageAccounts/blobServices\"}],\"variables\":{\"linuxFxVersion\":\"java|17\"}}",
            "template_spec_version_id": "",
            "timeouts": {
              "create": "30m",
              "delete": null,
              "read": null,
              "update": "30m"
            }
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjEwODAwMDAwMDAwMDAwLCJyZWFkIjozMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTgwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_resource_group.rg",
            "random_string.suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "azurerm_role_assignment",
      "name": "function_owner",
      "provider": "provider[\"registry.terraform.io/hashicorp/azurerm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": "",
            "condition_version": "",
            "delegated_managed_identity_resource_id": "",
            "description": "",
            "id": "/subscriptions/5c3579a2-4d66-4bee-a612-e66b89fbf8e9/providers/Microsoft.Authorization/roleAssignments/410e5493-dc1a-5337-362f-45dfb4eaf77c",
            "name": "410e5493-dc1a-5337-362f-45dfb4eaf77c",
            "principal_id": "657ff186-ad3e-4761-9d01-9cea540cb15f",
            "principal_type": "ServicePrincipal",
            "role_definition_id": "/subscriptions/5c3579a2-4d66-4bee-a612-e66b89fbf8e9/providers/Microsoft.Authorization/roleDefinitions/8e3af657-a8ff-443c-a75c-2fe8c4bcb635",
            "role_definition_name": "Owner",
            "scope": "/subscriptions/5c3579a2-4d66-4bee-a612-e66b89fbf8e9",
            "skip_service_principal_aad_check": null,
            "timeouts": null
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0,
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjE4MDAwMDAwMDAwMDAsInJlYWQiOjMwMDAwMDAwMDAwMH19",
          "dependencies": [
            "azurerm_resource_group.rg",
            "azurerm_resource_group_template_deployment.arm_deploy",
            "data.azurerm_linux_function_app.func",
            "data.azurerm_subscription.current",
            "random_string.suffix"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "random_string",
      "name": "suffix",
      "provider": "provider[\"registry.terraform.io/hashicorp/random\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "id": "tbne2s",
            "keepers": null,
            "length": 6,
            "lower": true,
            "min_lower": 0,
            "min_numeric": 0,
            "min_special": 0,
            "min_upper": 0,
            "number": true,
            "numeric": true,
            "override_special": null,
            "result": "tbne2s",
            "special": false,
            "upper": false
          },
          "sensitive_attributes": [],
          "identity_schema_version": 0
        }
      ]
    }
  ],
  "check_results": [
    {
      "object_kind": "var",
      "config_addr": "var.storage_account_name",
      "status": "pass",
      "objects": [
        {
          "object_addr": "var.storage_account_name",
          "status": "pass"
        }
      ]
    }
  ]
}
